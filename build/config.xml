<?xml version="1.0" encoding="utf-8"?>
<!--
# Copyright 2008 Pompeu Fabra University (Computational Imaging Laboratory), Barcelona, Spain.
# Web: www.cilab.upf.edu
# This software is distributed WITHOUT ANY WARRANTY;
# without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Cruise Control project configuration file.
-->

<cruisecontrol>

  <!-- 
    \name CSnake
    \brief Builds the CSnake tool.
  -->
  <project name="CSnake" requireModification="true" buildafterfailed="false">
      
    <!-- Properties -->
    <!-- Note: config paths are relative to the cruise control location on the server -->
    <property name="project.source_path" value="${main.csnake_src_folder"/>

    <!-- Listeners: notified with every project event -->
    <listeners>
      <currentbuildstatuslistener file="${main.log_folder}/${project.name}/buildstatus.txt"/>
    </listeners>

    <!-- Bootstrappers are run every time the build runs, *before* the modification checks -->
    <bootstrappers>
      <svnbootstrapper localworkingcopy="${project.source_path}"
      	username="${main.svn_username}" password="${main.svn_password}"/>
    </bootstrappers>

    <!-- Modificationset: triggers for rebuild -->
    <modificationset quietperiod="${main.quietperiod}">
      <svn localworkingcopy="${project.source_path}"
      	username="${main.svn_username}" password="${main.svn_password}"/>
    </modificationset>

    <!-- Schedule: configures the actual build loop, how often and which build file/target -->
    <schedule interval="${main.schedule_interval}">
      <!-- Call ant with the main build.xml -->
      <ant anthome="${main.ant_home}"
        buildfile="${main.build_src_folder}/build.xml"
        uselogger="true"
        target="do_nothing">
      </ant>
    </schedule>

	  <!-- Publishers are run *after* a build completes -->
    <publishers>
      <!-- Email to interested persons -->
      <htmlemail mailhost="mx.upf.edu"
          returnaddress="cruisecontrol@upf.edu"
          buildresultsurl="${main.build_url}/${project.name}"
          skipusers="${main.email_skipusers}"
          defaultsuffix="@cistib.upf.edu">
        <always address="${main.email_always}"/>
       </htmlemail>
    </publishers>

  </project>

</cruisecontrol>
